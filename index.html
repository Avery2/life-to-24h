<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lifetime to 24-hour Day Mapping</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin: 20px;
        }
        .container {
            max-width: 70vw;
            margin: 0 auto;
            position: relative;
        }
        .slider {
            width: 100%;
        }
        .buttons {
            margin: 20px 0;
        }
        .sky {
            position: relative;
            width: 100%;
            height: 300px;
            background: linear-gradient(to top, #87CEEB, #ffffff);
            overflow: hidden;
        }
        .sun {
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 50px;
            height: 50px;
            background: yellow;
            border-radius: 50%;
        }
    </style>
    <link rel="stylesheet" href="https://cdn.simplecss.org/simple.min.css">
</head>
<body>
    <div class="container">
        <h1>Map Lifetime to 24-hour Day</h1>
        <div>
            <label for="max-life">Max Life (Years): </label>
            <input type="number" id="max-life" value="80" min="1" max="150" step="1">
        </div>
        <div class="buttons">
            <button onclick="setMaxLife(70)">70 years</button>
            <button onclick="setMaxLife(80)">80 years</button>
            <button onclick="setMaxLife(90)">90 years</button>
        </div>
        <div>
            <label for="current-age">Current Age: <span id="current-age-value">40</span></label>
            <input type="range" id="current-age" class="slider" value="40" min="0" max="80">
        </div>
        <div>
            <h2>Current Time: <span id="current-time">12:00 PM</span></h2>
        </div>
        <div class="sky">
            <div class="sun" id="sun"></div>
        </div>
    </div>

    <script>
        const maxLifeInput = document.getElementById('max-life');
        const currentAgeSlider = document.getElementById('current-age');
        const currentAgeValue = document.getElementById('current-age-value');
        const currentTimeDisplay = document.getElementById('current-time');
        const sun = document.getElementById('sun');

        function updateCurrentTime() {
            const maxLife = parseInt(maxLifeInput.value);
            const currentAge = parseInt(currentAgeSlider.value);

            const timeInMinutes = (currentAge / maxLife) * 1440;
            const hours = Math.floor(timeInMinutes / 60);
            const minutes = Math.floor(timeInMinutes % 60);
            const ampm = hours >= 12 ? 'PM' : 'AM';

            const displayHours = hours % 12 || 12;
            const displayMinutes = minutes.toString().padStart(2, '0');

            currentTimeDisplay.textContent = `${displayHours}:${displayMinutes} ${ampm}`;

            updateSunPosition(timeInMinutes);
        }

        function updateSunPosition(timeInMinutes) {
            const percentageOfDay = timeInMinutes / 1440;
            const sunAngle = percentageOfDay * Math.PI; // Angle in radians from 0 to Pi (half circle)

            const sky = document.querySelector('.sky');
            const centerX = sky.clientWidth / 2;
            const centerY = sky.clientHeight; // Bottom of the sky container
            const radius = sky.clientHeight; // Radius should be half of the sky height

            const sunPositionX = centerX - radius * Math.cos(sunAngle);
            const sunPositionY = centerY - radius * Math.sin(sunAngle);

            sun.style.left = `${sunPositionX}px`;
            sun.style.top = `${sunPositionY}px`;
        }

        function setMaxLife(years) {
            maxLifeInput.value = years;
            currentAgeSlider.max = years;
            updateCurrentTime();
        }

        maxLifeInput.addEventListener('input', () => {
            currentAgeSlider.max = maxLifeInput.value;
            updateCurrentTime();
        });

        currentAgeSlider.addEventListener('input', () => {
            currentAgeValue.textContent = currentAgeSlider.value;
            updateCurrentTime();
        });

        // Initialize display
        updateCurrentTime();
    </script>
</body>
</html>
